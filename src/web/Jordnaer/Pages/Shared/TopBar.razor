@inject NavigationManager Navigation

<MudAppBar Fixed="false" Elevation="0" Dense Style="@($"background: {JordnaerTheme.CustomTheme.PaletteLight.BackgroundGray}")">
	<MudIconButton Href="/" title="Forsiden" Icon="@Icons.Material.Filled.Home" />
	<MudIconButton Href="/users" title="Personer" Icon="@Icons.Material.Filled.PersonSearch" />
	<MudIconButton Href="/groups" title="Grupper" Icon="@Icons.Material.Filled.Groups" />

	<Feature Name="@FeatureFlags.Posts">
		<MudIconButton Href="/posts" title="Opslag" Icon="@Icons.Material.Filled.Feed" />
	</Feature>

	<AuthorizeView>
		<Authorized>
			<ChatNavLink />
		</Authorized>
	</AuthorizeView>

	<MudSpacer />

    <AuthorizeView> 
        <Authorized>
            @* TODO: This doesn't look great as is. Rethink it and add it back?
            @if (_profilePictureUrl is not null)
            {
            <MudIconButton Title="Redigér Profil" Href="profile">
            <MudAvatar Size="Size.Small">
            <MudImage Src="@_profilePictureUrl" />
            </MudAvatar>
            </MudIconButton>
            }
            else
            {
            } *@
            <MudIconButton title="Redigér Profil" Href="/profile" Icon="@Icons.Material.Filled.Person" />
        </Authorized>
        <NotAuthorized>
            <MudIconButton title="Opret ny konto"
                           Href="/Account/Register"
                           Icon="@Icons.Material.Filled.Login"
                           Variant="Variant.Outlined"
                           Color="Color.Default" />
        </NotAuthorized>
    </AuthorizeView>
</MudAppBar>
