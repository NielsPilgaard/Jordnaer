@page "/Account/Manage/PersonalData"

@inject IdentityUserAccessor UserAccessor

@attribute [Sitemap]

<MetadataComponent Title="Personlige Data"/>

<h2 class="manage-page-title">Personlige Data</h2>
<p class="manage-page-description">Administrer dine personlige data</p>

<StatusMessage />

<div style="max-width: 600px;">
	<p>Din konto indeholder personlige data, som du har givet os. Denne side giver dig mulighed for at downloade disse data.</p>

	<form action="Account/Manage/DownloadPersonalData" method="post">
		<AntiforgeryToken />
		<button class="account-button-primary" type="submit">Download</button>
	</form>
</div>


@code {
    [CascadingParameter]
    private HttpContext HttpContext { get; set; } = default!;

    protected override async Task OnInitializedAsync()
    {
        _ = await UserAccessor.GetRequiredUserAsync(HttpContext);
    }
}
