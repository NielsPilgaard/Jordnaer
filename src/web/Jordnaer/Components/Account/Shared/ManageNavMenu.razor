@using Microsoft.AspNetCore.Identity

@inject SignInManager<ApplicationUser> SignInManager

<nav aria-label="Konto administration navigation">
    <ul class="nav nav-pills flex-column" style="gap: 0.5rem;">
        <li class="nav-item">
            <NavLink class="nav-link" href="Account/Manage" Match="NavLinkMatch.All"
                     style="font-family: 'Open Sans Light', sans-serif; color: #41556b; border-radius: 4px; padding: 0.75rem 1rem; min-height: 44px; display: flex; align-items: center;">
                Konto
            </NavLink>
        </li>
        <li class="nav-item">
            <NavLink class="nav-link" href="Account/Manage/Email"
                     style="font-family: 'Open Sans Light', sans-serif; color: #41556b; border-radius: 4px; padding: 0.75rem 1rem; min-height: 44px; display: flex; align-items: center;">
                Email
            </NavLink>
        </li>
        <li class="nav-item">
            <NavLink class="nav-link" href="Account/Manage/ChangePassword"
                     style="font-family: 'Open Sans Light', sans-serif; color: #41556b; border-radius: 4px; padding: 0.75rem 1rem; min-height: 44px; display: flex; align-items: center;">
                Adgangskode
            </NavLink>
        </li>
        @if (_hasExternalLogins)
        {
            <li class="nav-item">
                <NavLink class="nav-link" href="Account/Manage/ExternalLogins"
                         style="font-family: 'Open Sans Light', sans-serif; color: #41556b; border-radius: 4px; padding: 0.75rem 1rem; min-height: 44px; display: flex; align-items: center;">
                    Eksterne logins
                </NavLink>
            </li>
        }
        @* Two-factor authentication hidden *@
        @*
        <li class="nav-item">
            <NavLink class="nav-link" href="Account/Manage/TwoFactorAuthentication"
                     style="font-family: 'Open Sans Light', sans-serif; color: #41556b; border-radius: 4px; padding: 0.75rem 1rem; min-height: 44px; display: flex; align-items: center;">
                Two-faktor autentificering
            </NavLink>
        </li>
        *@
        <li class="nav-item">
            <NavLink class="nav-link" href="Account/Manage/PersonalData"
                     style="font-family: 'Open Sans Light', sans-serif; color: #41556b; border-radius: 4px; padding: 0.75rem 1rem; min-height: 44px; display: flex; align-items: center;">
                Personlig data
            </NavLink>
        </li>
        <li class="nav-item">
            <NavLink class="nav-link" href="Account/Manage/DeletePersonalData"
                     style="font-family: 'Open Sans Light', sans-serif; color: #41556b; border-radius: 4px; padding: 0.75rem 1rem; min-height: 44px; display: flex; align-items: center;">
                Slet bruger
            </NavLink>
        </li>
    </ul>
</nav>

@code {
    private bool _hasExternalLogins;

    protected override async Task OnInitializedAsync()
    {
        _hasExternalLogins = (await SignInManager.GetExternalAuthenticationSchemesAsync()).Any();
    }
}
